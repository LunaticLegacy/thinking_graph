<div align="center">

<br />

<img src="https://raw.githubusercontent.com/LunaticLegacy/thinking_graph/main/assets/logo.png" width="120" alt="Thinking Graph Logo" />

# Thinking Graph

### è®©æ€ç»´å¯è§ Â· è®©é€»è¾‘å¯è§¦

**å¯è§†åŒ–æ€ç»´ä¸è®ºè¯å…³ç³»çš„å¼€æºå·¥å…·**

[![Python](https://img.shields.io/badge/Python-3.11+-3776AB?logo=python&logoColor=white)](https://python.org)
[![Flask](https://img.shields.io/badge/Flask-3.1+-000000?logo=flask&logoColor=white)](https://flask.palletsprojects.com)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Stars](https://img.shields.io/github/stars/LunaticLegacy/thinking_graph?style=social)](https://github.com/LunaticLegacy/thinking_graph)

[ğŸ“– æ–‡æ¡£](https://github.com/LunaticLegacy/thinking_graph/wiki) Â· [ğŸš€ åœ¨çº¿æ¼”ç¤º](https://demo.thinking-graph.dev) Â· [ğŸ’¬ è®¨è®ºåŒº](https://github.com/LunaticLegacy/thinking_graph/discussions) Â· [ğŸ‡ºğŸ‡¸ English](docs/README_EN.md)

<br />

<img src="https://raw.githubusercontent.com/LunaticLegacy/thinking_graph/main/assets/screenshot.png" width="90%" alt="Thinking Graph Screenshot" />

</div>

---

## âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© Thinking Graphï¼Ÿ

> *"å¤æ‚çš„æ€è€ƒéœ€è¦è¢«çœ‹è§ï¼Œè€Œä¸æ˜¯è¢«é—å¿˜åœ¨è‰ç¨¿çº¸çš„è§’è½ã€‚"*

åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½åœ¨æ¥æ”¶è§‚ç‚¹ã€å½¢æˆåˆ¤æ–­ã€å‚ä¸è®¨è®ºã€‚ä½†æ€ç»´æ˜¯çº¿æ€§çš„ï¼Œè€Œ**çœŸæ­£çš„ç†è§£å¾€å¾€æ˜¯ç½‘çŠ¶çš„**ã€‚

Thinking Graph å¸®åŠ©ä½ ï¼š

- ğŸ§© **å¯è§†åŒ–æ€ç»´è¿‡ç¨‹** â€”â€” å°†é›¶æ•£çš„è§‚ç‚¹ç»„ç»‡æˆæ¸…æ™°çš„è®ºè¯ç½‘ç»œ
- âš¡ **å¤šæ¨¡æ€ LLM æ”¯æŒ** â€”â€” æœ¬åœ° NPU æ¨ç†æˆ–äº‘ç«¯ APIï¼Œéšä½ é€‰æ‹©
- ğŸ” **æ™ºèƒ½å®¡è®¡** â€”â€” AI è‡ªåŠ¨æ£€æŸ¥é€»è¾‘å†²çªä¸è®ºè¯å®Œæ•´æ€§
- ğŸ“œ **å…¨ç¨‹å¯è¿½æº¯** â€”â€” æ¯ä¸€æ¬¡ä¿®æ”¹éƒ½è¢«è®°å½•ï¼Œæ€ç»´æ¼”åŒ–æœ‰è¿¹å¯å¾ª

---

## ğŸš€ äº”åˆ†é’Ÿä¸Šæ‰‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/LunaticLegacy/thinking_graph.git
cd thinking_graph

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# æˆ– .venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### é…ç½®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp app_config_example.toml app_config.toml

# ç¼–è¾‘é…ç½®ï¼Œé€‰æ‹©ä½ çš„ LLM åç«¯
# - remote_api: DeepSeek / OpenAI / Claude
# - local_api: Ollama / LM Studio / vLLM
# - onnxruntime / openvino: æœ¬åœ° NPU åŠ é€Ÿ
```

### å¯åŠ¨

```bash
python main.py
```

æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5000`ï¼Œå¼€å§‹æ„å»ºä½ çš„ç¬¬ä¸€å¼ æ€ç»´å›¾ï¼

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š å¯è§†åŒ–è®ºè¯ç½‘ç»œ

```python
from thinking_graph import GraphBuilder

builder = GraphBuilder()
builder.add_node("è¿œç¨‹åŠå…¬æå‡æ•ˆç‡", confidence=0.85)
builder.add_node("å‡å°‘é€šå‹¤æ—¶é—´", confidence=0.95)
builder.connect("å‡å°‘é€šå‹¤æ—¶é—´", "è¿œç¨‹åŠå…¬æå‡æ•ˆç‡", type="supports")

graph = builder.build()
graph.visualize()  # ç”Ÿæˆäº¤äº’å¼ç½‘ç»œå›¾
```

- **èŠ‚ç‚¹ (Node)**: ä»£è¡¨è§‚ç‚¹ï¼Œæ”¯æŒç½®ä¿¡åº¦ã€æ ‡ç­¾ã€è¯æ®æ ‡æ³¨
- **è¿æ¥ (Connection)**: äº”ç§å…³ç³»ç±»å‹ï¼šsupports / opposes / relates / leads_to / derives_from
- **äº¤äº’å¼ç•Œé¢**: æ‹–æ‹½å¸ƒå±€ã€ç¼©æ”¾å¯¼èˆªã€ç‚¹å‡»ç¼–è¾‘

### ğŸ¤– å¤šåç«¯ LLM é›†æˆ

| åç«¯ç±»å‹ | å»¶è¿Ÿ | éšç§ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| Remote API | âš¡âš¡âš¡ | ğŸ”’ | å¿«é€ŸåŸå‹ã€é«˜ç²¾åº¦éœ€æ±‚ |
| Local API | âš¡âš¡ | ğŸ”’ğŸ”’ | å¹³è¡¡æ€§èƒ½ä¸éšç§ |
| ONNXRuntime | âš¡ | ğŸ”’ğŸ”’ğŸ”’ | çº¯æœ¬åœ°ã€NPU åŠ é€Ÿ |
| OpenVINO | âš¡ | ğŸ”’ğŸ”’ğŸ”’ | Intel NPU ä¼˜åŒ– |

### ğŸ” æ™ºèƒ½é€»è¾‘å®¡è®¡

```python
# AI è‡ªåŠ¨æ£€æŸ¥è®ºè¯ä¸€è‡´æ€§
review_result = graph.ai_review()
# {
#   "verdict": "CONFLICT",
#   "conflicts": [
#     {
#       "entity_type": "connection",
#       "entity_id": "conn_001",
#       "reason": "åŒä¸€èŠ‚ç‚¹å¯¹åŒæ—¶å­˜åœ¨ supports ä¸ opposes å…³ç³»"
#     }
#   ]
# }
```

å†…ç½®å®¡è®¡è§„åˆ™ï¼š
- âœ… ç¦æ­¢ç©ºå†…å®¹èŠ‚ç‚¹
- âœ… ç¦æ­¢è‡ªç¯è¿æ¥
- âœ… æ£€æµ‹çŸ›ç›¾çš„æ”¯æ’‘/åé©³å…³ç³»
- âœ… éªŒè¯èŠ‚ç‚¹å¼•ç”¨å®Œæ•´æ€§

### ğŸ“œ å®Œæ•´çš„å®¡è®¡è¿½è¸ª

æ¯ä¸€æ¬¡åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤æ“ä½œéƒ½è¢«è®°å½•ï¼š

```json
{
  "entity_type": "node",
  "entity_id": "node_abc123",
  "action": "update",
  "actor": "luna",
  "reason": "ä¿®æ­£ç½®ä¿¡åº¦",
  "before_state": { "confidence": 0.7, ... },
  "after_state": { "confidence": 0.85, ... },
  "created_at": "2026-02-24T14:32:00Z"
}
```

æ”¯æŒå¯¼å‡ºå®¡è®¡æŠ¥å‘Šã€éªŒè¯æ•°æ®å®Œæ•´æ€§ã€å›æº¯ä»»æ„å†å²ç‰ˆæœ¬ã€‚

---

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  React UI   â”‚  â”‚ Vis.js Graph â”‚  â”‚  Interactive Canvas â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Flask Backend                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Routes    â”‚  â”‚   Services  â”‚  â”‚    Repository       â”‚  â”‚
â”‚  â”‚   (API)     â”‚â”€â”€â”‚  (Business) â”‚â”€â”€â”‚   (Data Access)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                                                    â”‚
â”‚         â–¼                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              LLM Integration Layer                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ DeepSeek â”‚ â”‚  Ollama  â”‚ â”‚ONNX NPU  â”‚ â”‚OpenVINOâ”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Data Layer                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   SQLite    â”‚  â”‚  Snapshots  â”‚  â”‚     Audit Log       â”‚  â”‚
â”‚  â”‚  (Nodes &   â”‚  â”‚  (Versioned â”‚  â”‚  (Immutable History)â”‚  â”‚
â”‚  â”‚ Connections)â”‚  â”‚   Graphs)   â”‚  â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
thinking_graph/
â”œâ”€â”€ backend/              # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ services/         # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ graph_service.py    # å›¾æ“ä½œ CRUD
â”‚   â”‚   â””â”€â”€ llm_service.py      # LLM é›†æˆ
â”‚   â””â”€â”€ repository.py     # æ•°æ®è®¿é—®å±‚
â”œâ”€â”€ core/                 # é¢†åŸŸæ ¸å¿ƒ
â”‚   â”œâ”€â”€ graph.py          # å›¾æ¨¡å‹ä¸ç®—æ³•
â”‚   â””â”€â”€ visualization.py  # å¯è§†åŒ–æ¸²æŸ“
â”œâ”€â”€ datamodels/           # æ•°æ®æ¨¡å‹å®šä¹‰
â”œâ”€â”€ web/                  # Web è·¯ç”±ä¸æ§åˆ¶å™¨
â”œâ”€â”€ static/               # å‰ç«¯èµ„æº
â”œâ”€â”€ templates/            # HTML æ¨¡æ¿
â”œâ”€â”€ utils/                # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ databaseman/      # æ•°æ®åº“ç®¡ç†
â”‚   â”œâ”€â”€ llm_fetcher/      # LLM å®¢æˆ·ç«¯
â”‚   â””â”€â”€ llm_npu_module/   # NPU æ¨ç†åŠ é€Ÿ
â”œâ”€â”€ config/               # é…ç½®æ¨¡å—
â”œâ”€â”€ tests/                # æµ‹è¯•å¥—ä»¶ ğŸš§
â”œâ”€â”€ app_config.toml       # åº”ç”¨é…ç½®
â””â”€â”€ main.py               # å…¥å£æ–‡ä»¶
```

---

## ğŸ›£ï¸ è·¯çº¿å›¾

- [x] æ ¸å¿ƒå›¾æ“ä½œ (CRUD)
- [x] å¤šåç«¯ LLM æ”¯æŒ
- [x] å®¡è®¡æ—¥å¿—ç³»ç»Ÿ
- [x] å›¾å¿«ç…§ä¿å­˜/åŠ è½½
- [ ] åä½œç¼–è¾‘ (WebSocket)
- [ ] å¯¼å…¥/å¯¼å‡º (Markdown, JSON, GraphML)
- [ ] æ¨¡æ¿åº“ (è®ºè¯æ¡†æ¶é¢„è®¾)
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] æ’ä»¶ç³»ç»Ÿ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

1. **Fork** æœ¬é¡¹ç›®
2. åˆ›å»ºä½ çš„åŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ”¹åŠ¨ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. åˆ›å»º **Pull Request**

æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦ç»†è§„èŒƒã€‚

---

## ğŸ“„ è®¸å¯è¯

[MIT](LICENSE) Â© 2026 LunaNeko

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#thinking-graph)**

Made with â¤ï¸ and â˜• by [LunaNeko](https://github.com/LunaticLegacy)

</div>
